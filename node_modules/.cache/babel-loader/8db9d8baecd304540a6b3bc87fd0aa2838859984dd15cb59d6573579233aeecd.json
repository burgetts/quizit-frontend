{"ast":null,"code":"import axios from 'axios';\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"http://localhost:3001\";\nlet token = localStorage.getItem('token');\nasync function request(endpoint) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"get\";\n  console.debug(\"API Call:\", endpoint, data, method);\n\n  //there are multiple ways to pass an authorization token, this is how you pass it in the header.\n  //this has been provided to show you another way to pass the token. you are only expected to read this code for this project.\n  console.log(token);\n  const url = `${BASE_URL}/${endpoint}`;\n  const headers = {\n    Authorization: `Bearer ${token}`\n  };\n  const params = method === \"get\" ? data : {};\n  try {\n    return await axios({\n      url,\n      method,\n      data,\n      params,\n      headers\n    });\n  } catch (err) {\n    console.error(err);\n    return err;\n    //   console.error(\"API Error:\", err.response);\n    //   let message = err.response.data.error.message \n    //   throw Array.isArray(message) ? message : [message];\n  }\n}\n\nexport default request;","map":{"version":3,"names":["axios","BASE_URL","process","env","REACT_APP_BASE_URL","token","localStorage","getItem","request","endpoint","data","arguments","length","undefined","method","console","debug","log","url","headers","Authorization","params","err","error"],"sources":["/Users/stevieburgett/Documents/Springboard/capstone-2/frontend/quizit/src/utils/helpers.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"http://localhost:3001\";\nlet token = localStorage.getItem('token')\n\nasync function request(endpoint, data = {}, method = \"get\") {\n    console.debug(\"API Call:\", endpoint, data, method);\n\n    //there are multiple ways to pass an authorization token, this is how you pass it in the header.\n    //this has been provided to show you another way to pass the token. you are only expected to read this code for this project.\n    console.log(token)\n    const url = `${BASE_URL}/${endpoint}`;\n    const headers = { Authorization: `Bearer ${token}` } \n    const params = (method === \"get\")\n        ? data\n        : {};\n\n    try {\n      return (await axios({ url, method, data, params, headers }));\n    } catch (err) {\n        console.error(err)\n        return err\n    //   console.error(\"API Error:\", err.response);\n    //   let message = err.response.data.error.message \n    //   throw Array.isArray(message) ? message : [message];\n    }\n  }\n\n  export default request;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,kBAAkB,IAAI,uBAAuB;AAC1E,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;AAEzC,eAAeC,OAAOA,CAACC,QAAQ,EAA6B;EAAA,IAA3BC,IAAI,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IAAEG,MAAM,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;EACtDI,OAAO,CAACC,KAAK,CAAC,WAAW,EAAEP,QAAQ,EAAEC,IAAI,EAAEI,MAAM,CAAC;;EAElD;EACA;EACAC,OAAO,CAACE,GAAG,CAACZ,KAAK,CAAC;EAClB,MAAMa,GAAG,GAAI,GAAEjB,QAAS,IAAGQ,QAAS,EAAC;EACrC,MAAMU,OAAO,GAAG;IAAEC,aAAa,EAAG,UAASf,KAAM;EAAE,CAAC;EACpD,MAAMgB,MAAM,GAAIP,MAAM,KAAK,KAAK,GAC1BJ,IAAI,GACJ,CAAC,CAAC;EAER,IAAI;IACF,OAAQ,MAAMV,KAAK,CAAC;MAAEkB,GAAG;MAAEJ,MAAM;MAAEJ,IAAI;MAAEW,MAAM;MAAEF;IAAQ,CAAC,CAAC;EAC7D,CAAC,CAAC,OAAOG,GAAG,EAAE;IACVP,OAAO,CAACQ,KAAK,CAACD,GAAG,CAAC;IAClB,OAAOA,GAAG;IACd;IACA;IACA;EACA;AACF;;AAEA,eAAed,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}