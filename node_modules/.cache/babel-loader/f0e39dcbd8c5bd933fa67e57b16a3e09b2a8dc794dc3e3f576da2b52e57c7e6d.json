{"ast":null,"code":"var _jsxFileName = \"/Users/stevieburgett/Documents/Springboard/capstone-2/frontend/quizit/src/components/Post.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState } from 'react';\nimport '../css/Post.css';\nimport UserContext from '../utils/UserContext';\nimport { useFields } from '../utils/hooks';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Post = _ref => {\n  _s();\n  let {\n    post,\n    groupId,\n    posts,\n    setPosts\n  } = _ref;\n  const {\n    currentUser,\n    request\n  } = useContext(UserContext);\n  const [editMode, setEditMode] = useState(false);\n  const INITIAL_STATE = {\n    text: post.text\n  };\n  const [formData, handleChange] = useFields(INITIAL_STATE);\n  const deletePost = async () => {\n    await request(`groups/${groupId}/posts/${post.id}`, {}, \"delete\");\n    const remainingPosts = posts.filter(p => p.id !== post.id);\n    setPosts(remainingPosts);\n  };\n  const editPost = async () => {\n    await request(`groups/${groupId}/posts/${post.id}`, formData, \"patch\");\n    const resp = await request(`groups/${groupId}/posts`);\n    const newPosts = resp.posts;\n    setPosts(newPosts);\n    setEditMode(!editMode);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Post\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Post-posted-by\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: post.postedBy\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Post-date-posted\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: post.datePosted\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Post-text\",\n      children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: formData.text,\n        name: \"text\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Post-text\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: post.text\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }, this), post.postedBy === currentUser.username ? editMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"Post-save-changes-button\",\n        onClick: editPost,\n        children: \"Save Changes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"Post-cancel-changes-button\",\n        onClick: () => setEditMode(!editMode),\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"Post-edit-button\",\n        onClick: () => setEditMode(!editMode),\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"Post-delete-button\",\n        onClick: deletePost,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Post-reply-button\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Reply\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n};\n_s(Post, \"gYZ1JBRfDz29ENZL7d6y8XefwO0=\", false, function () {\n  return [useFields];\n});\n_c = Post;\nexport default Post;\nvar _c;\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"names":["React","useContext","useState","UserContext","useFields","jsxDEV","_jsxDEV","Post","_ref","_s","post","groupId","posts","setPosts","currentUser","request","editMode","setEditMode","INITIAL_STATE","text","formData","handleChange","deletePost","id","remainingPosts","filter","p","editPost","resp","newPosts","className","children","postedBy","fileName","_jsxFileName","lineNumber","columnNumber","datePosted","value","name","onChange","username","onClick","_c","$RefreshReg$"],"sources":["/Users/stevieburgett/Documents/Springboard/capstone-2/frontend/quizit/src/components/Post.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport '../css/Post.css';\nimport UserContext from '../utils/UserContext';\nimport { useFields } from '../utils/hooks';\n\n\nconst Post = ({post, groupId, posts, setPosts}) => {\n    const { currentUser, request } = useContext(UserContext)\n    const [editMode, setEditMode] = useState(false)\n    \n    const INITIAL_STATE = {\n        text: post.text\n    }\n    const [formData, handleChange] =  useFields(INITIAL_STATE)\n    const deletePost = async () => {\n        await request(`groups/${groupId}/posts/${post.id}`, {}, \"delete\")\n        const remainingPosts = posts.filter(p => p.id !== post.id)\n        setPosts(remainingPosts)\n    }\n\n    const editPost = async () => {\n        await request(`groups/${groupId}/posts/${post.id}`, formData, \"patch\")\n        const resp = await request(`groups/${groupId}/posts`)\n        const newPosts = resp.posts\n        setPosts(newPosts)\n        setEditMode(!editMode)\n    }\n\n    return (\n        <div className=\"Post\">\n            <div className=\"Post-posted-by\">\n                <div>{post.postedBy}</div>\n            </div>\n            <div className=\"Post-date-posted\">\n                <div >{post.datePosted}</div>\n            </div>\n    \n            {editMode \n                ?\n                <div className=\"Post-text\">\n                    <textarea value={formData.text} name=\"text\" onChange={handleChange}></textarea>\n                </div>\n                :\n                <div className=\"Post-text\">\n                    <div>{post.text}</div>\n                </div>\n            }\n\n            {post.postedBy === currentUser.username \n                ?\n                editMode \n                    ?\n                    <div>\n                        <button className=\"Post-save-changes-button\" onClick={editPost}>Save Changes</button>\n                        <button className=\"Post-cancel-changes-button\" onClick={() => setEditMode(!editMode)}>Cancel</button>\n                    </div>\n                    :\n                    <div>\n                        <button className=\"Post-edit-button\" onClick={() => setEditMode(!editMode)}>Edit</button>\n                        <button className=\"Post-delete-button\" onClick={deletePost}>Delete</button>\n                    </div>\n                :\n                <div className=\"Post-reply-button\">\n                    <button>Reply</button>\n                </div>\n            }\n\n            \n        </div>\n    )\n}\n\nexport default Post"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}